# rag-api — назначение

RAG-бэкенд для работы с приватным корпусом документов.

## Что делает

- **Загружает документы** (PDF) и индексирует их в Postgres + pgvector.
- **Отвечает на вопросы** по загруженным документам через OpenAI-совместимый API (`/v1/chat/completions`).
- **Стримит ответы** через SSE (Server-Sent Events).

## Принципы

- **Локальный подход**: использует локальный LM Studio (или любой OpenAI-совместимый сервер) для чата и эмбеддингов.
- **Только API**: без веб-интерфейса.
- **Расширяемость**: пайплайны загрузки и стратегии поиска подключаемые (сейчас PDF, потом аудио/видео).
- **Цитаты как платная фича**: метаданные источников хранятся, но отдаются только при наличии entitlement у ключа.

## Структура

- `apps/api/` — FastAPI-сервис (auth, retrieval, стриминг).
- `apps/ingest/` — CLI для загрузки документов.
- `core/` — общая инфраструктура (конфиг, БД, эмбеддинги).
- `var/pdfs/` — корпус PDF-документов.
